<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<div class="container-fluid">
  <div class="row">
    <!-- Restaurant Info Sidebar (Left) -->
    <div class="col-md-2 col-lg-2 sidebar">
      <div class="restaurant-info-section text-center">
        <img class="img-account-profile mt-2 profile-img" [src]="restaurantImageUrl" alt="Restaurant Image" style="border-radius: 10px">
        <h5 class="mt-2">{{ restaurant.name }}</h5>

        <!-- Dynamic content based on selected section -->
        <div *ngIf="selectedSection === 'address'">
          <p>{{ restaurant.address || 'Address not available' }}</p>
        </div>
        <div *ngIf="selectedSection === 'about'">
          <p>{{ restaurant.about || 'About information not available' }}</p>
        </div>
        <div *ngIf="selectedSection === 'contact'">
          <p>{{ restaurant.contact || 'Contact information not available' }}</p>
        </div>
      </div>

      <!-- Sidebar Navigation -->
      <ul class="nav flex-column mt-4">
        <li class="nav-item" [ngClass]="{'active': selectedSection === 'address', 'hovered': hoverSection === 'address'}"
            (mouseenter)="hoverSection = 'address'" (mouseleave)="hoverSection = ''">
          <a class="nav-link" href="javascript:void(0)" (click)="selectSection('address')">Address</a>
        </li>
        <li class="nav-item" [ngClass]="{'active': selectedSection === 'about', 'hovered': hoverSection === 'about'}"
            (mouseenter)="hoverSection = 'about'" (mouseleave)="hoverSection = ''">
          <a class="nav-link" href="javascript:void(0)" (click)="selectSection('about')">About</a>
        </li>
        <li class="nav-item" [ngClass]="{'active': selectedSection === 'contact', 'hovered': hoverSection === 'contact'}"
            (mouseenter)="hoverSection = 'contact'" (mouseleave)="hoverSection = ''">
          <a class="nav-link" href="javascript:void(0)" (click)="selectSection('contact')">Contact</a>
        </li>
        <li class="nav-item" [ngClass]="{'hovered': hoverSection === 'back'}"
            (mouseenter)="hoverSection = 'back'" (mouseleave)="hoverSection = ''">
          <a class="nav-link" href="javascript:void(0)" (click)="goBack()"><img src="assets/images/previous.png"  width="30px" height="30px" style="margin-right: 10px"/>Back</a>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="col-md-8 col-lg-8 main-content">
      <!-- Search Form -->
      <div class="search-form mb-4">
        <input type="text" class="form-control" placeholder="Search menu items..." [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()">
      </div>

      <!-- Menu Items -->
      <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-12 mb-4" *ngFor="let item of pagedItems">
          <div class="card h-100">
            <img class="card-img-top" [src]="item.imageUrl" alt="{{ item.name }}">
            <div class="card-body">
              <div class="d-flex align-items-center justify-content-between">
                <h6 class="font-weight-bold pt-1">{{ item.name }}</h6>
                <div class="delivery-time d-flex align-items-center">
                  <i class="material-icons delivery-time-icon">schedule</i>
                  <span class="delivery-time-text">15-20 min</span>
                </div>

              </div>
              <div class="d-flex align-items-center justify-content-between pt-3">
                <div class="d-flex flex-column">
                  <div class="h6 font-weight-bold">{{ item.price | currency }}</div>
                </div>
                <button class="btn btn-primary" [routerLink]="['/restaurant', restaurant.id, 'menu-item', item.id]">View Details</button>
                <button class="btn add-to-cart" (click)="orderNow(item, 1)">Order Now</button>
              </div>
            </div>
          </div>
        </div>
      </div>



      <!-- Pagination Controls -->
      <div class="pagination justify-content-center mt-4">
        <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
        <button *ngFor="let page of totalPagesArray" (click)="onPageChange(page)">{{ page }}</button>
        <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button>
      </div>
    </div>

    <!-- Promotion and Articles Sidebar (Right) -->
    <div class="col-md-2 col-lg-2 sidebar-right">
      <div class="cheapest-items-section mt-5">
        <h6>Top 3 Cheapest Items</h6>
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let item of cheapestItems">
            <div class="d-flex justify-content-between">
              <img  [src]="item.imageUrl" alt="Restaurant Image" style="border-radius: 10px; width: 60px;height: 60px; margin-bottom: 30px">
              <span class="mt-3">{{ item.name }}</span>
              <span class="mt-3">{{ item.price | currency }}</span>
            </div>
          </li>
        </ul>
      </div>


    </div>

  </div>
</div>
